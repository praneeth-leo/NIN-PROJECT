<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SurveyPro · field questionnaire</title>
  <!-- Font Awesome 6 + Google Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-deep: #0a0c15;
      --surface: rgba(18, 24, 38, 0.85);
      --surface-card: rgba(22, 28, 45, 0.8);
      --border-subtle: rgba(255, 255, 255, 0.04);
      --border-active: rgba(255, 136, 0, 0.4);
      --text-primary: #ffffff;
      --text-secondary: #cbd5e1;
      --text-muted: #94a3b8;
      --accent-primary: #ff8800;
      --accent-secondary: #ffaa33;
      --accent-glow: rgba(255, 136, 0, 0.25);
      --danger: #ef4444;
      --danger-glow: rgba(239, 68, 68, 0.25);
      --gradient-header: linear-gradient(145deg, #ff8800, #ff5500);
      --gradient-btn: linear-gradient(145deg, #ff8800, #ff6a00);
      --gradient-btn-hover: linear-gradient(145deg, #ff6a00, #ff5500);
      --shadow-elevation: 0 30px 60px -15px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.02);
      --radius-card: 28px;
      --radius-input: 16px;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, sans-serif;
      background: var(--bg-deep);
      min-height: 100vh;
      margin: 0;
      padding: 0;
      color: var(--text-primary);
      position: relative;
      overflow-x: hidden;
    }

    /* animated medical/survey background */
    body::before {
      content: "";
      position: fixed;
      width: 100vw;
      height: 100vh;
      background: 
        radial-gradient(circle at 10% 20%, rgba(255, 136, 0, 0.12) 0%, transparent 40%),
        radial-gradient(circle at 90% 70%, rgba(99, 102, 241, 0.08) 0%, transparent 45%),
        radial-gradient(circle at 30% 80%, rgba(34, 197, 94, 0.06) 0%, transparent 50%),
        repeating-linear-gradient(45deg, rgba(255,255,255,0.01) 0px, rgba(255,255,255,0.01) 1px, transparent 1px, transparent 20px);
      pointer-events: none;
      z-index: 0;
    }

    /* header */
    header {
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 16px 32px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(10, 14, 23, 0.85);
      backdrop-filter: blur(16px) saturate(180%);
      -webkit-backdrop-filter: blur(16px) saturate(180%);
      border-bottom: 1px solid rgba(255, 255, 255, 0.03);
      box-shadow: 0 20px 30px -20px rgba(0, 0, 0, 0.8);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .brand-icon {
      width: 44px;
      height: 44px;
      background: var(--gradient-header);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 12px 24px -8px rgba(255, 136, 0, 0.4);
    }

    .brand-icon i {
      font-size: 24px;
      color: white;
    }

    .brand-text {
      font-weight: 700;
      font-size: 1.3rem;
      letter-spacing: -0.3px;
      background: linear-gradient(to right, #ffffff, #ffd6a3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .top-actions {
      display: flex;
      gap: 12px;
    }

    .btn-back, .btn-logout {
      text-decoration: none;
      padding: 10px 22px;
      border-radius: 40px;
      font-size: 0.95rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s ease;
      border: 1px solid rgba(255, 255, 255, 0.04);
    }

    .btn-back {
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-secondary);
      backdrop-filter: blur(8px);
    }

    .btn-back:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateX(-2px);
    }

    .btn-logout {
      background: rgba(239, 68, 68, 0.12);
      color: #fecaca;
      border-color: rgba(239, 68, 68, 0.2);
    }

    .btn-logout:hover {
      background: rgba(239, 68, 68, 0.25);
      border-color: rgba(239, 68, 68, 0.4);
    }

    /* main container */
    .container {
      max-width: 1100px;
      margin: 30px auto;
      padding: 20px 28px 50px;
      position: relative;
      z-index: 5;
    }

    /* progress header */
    .survey-progress {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 28px;
      background: rgba(255, 136, 0, 0.05);
      border: 1px solid rgba(255, 136, 0, 0.1);
      border-radius: 60px;
      padding: 10px 24px;
      backdrop-filter: blur(8px);
    }

    .progress-text {
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--text-secondary);
    }

    .progress-text i {
      color: var(--accent-primary);
    }

    .auto-save-badge {
      background: rgba(34, 197, 94, 0.15);
      color: #86efac;
      padding: 6px 18px;
      border-radius: 40px;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 8px;
      border: 1px solid rgba(34, 197, 94, 0.2);
    }

    /* cards */
    .card {
      background: rgba(18, 24, 38, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.03);
      border-radius: var(--radius-card);
      padding: 28px 30px;
      margin-bottom: 24px;
      box-shadow: var(--shadow-elevation);
      position: relative;
      overflow: hidden;
      transition: all 0.2s ease;
    }

    .card:hover {
      border-color: rgba(255, 136, 0, 0.15);
    }

    .card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(400px circle at 0% 20%, rgba(255, 136, 0, 0.05), transparent 70%);
      pointer-events: none;
    }

    h3 {
      font-size: 1.6rem;
      font-weight: 700;
      letter-spacing: -0.4px;
      margin: 0 0 8px 0;
      color: white;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    h3 i {
      color: var(--accent-primary);
      font-size: 1.8rem;
    }

    h4 {
      font-size: 1.2rem;
      font-weight: 600;
      margin: 24px 0 16px 0;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      padding-bottom: 10px;
    }

    h4 i {
      color: var(--accent-secondary);
      font-size: 1.1rem;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
    }

    .full {
      grid-column: span 2;
    }

    label {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      font-weight: 500;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    label i {
      color: var(--accent-primary);
      width: 18px;
    }

    input, select {
      width: 100%;
      padding: 14px 18px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.04);
      border-radius: var(--radius-input);
      font-size: 0.95rem;
      font-family: "Inter", sans-serif;
      color: white;
      transition: all 0.2s ease;
      box-shadow: inset 0 4px 12px rgba(0, 0, 0, 0.3);
      margin-bottom: 12px;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 3px var(--accent-glow), inset 0 2px 8px rgba(0,0,0,0.4);
      background: rgba(25, 32, 50, 0.8);
    }

    select option {
      background: #1a1f2e;
      color: white;
    }

    /* measurement groups */
    .measurement-group {
      background: rgba(255, 136, 0, 0.03);
      border-radius: 24px;
      padding: 18px;
      margin: 16px 0;
      border: 1px solid rgba(255, 136, 0, 0.08);
    }

    /* button */
    button {
      width: 100%;
      padding: 20px 28px;
      border: none;
      border-radius: 60px;
      font-size: 1.2rem;
      font-weight: 700;
      cursor: pointer;
      background: var(--gradient-btn);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      box-shadow: 0 22px 30px -16px rgba(255, 136, 0, 0.5), 0 0 0 1px rgba(255,255,255,0.03);
      transition: all 0.25s ease;
      border: 1px solid rgba(255, 255, 255, 0.05);
      margin-top: 12px;
    }

    button i {
      font-size: 1.3rem;
    }

    button:hover {
      background: var(--gradient-btn-hover);
      transform: scale(1.02);
      box-shadow: 0 28px 40px -14px #ff5500;
    }

    .note {
      margin-top: 16px;
      font-size: 0.9rem;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      background: rgba(255, 255, 255, 0.02);
      padding: 12px;
      border-radius: 60px;
    }

    .note i {
      color: #22c55e;
    }

    /* section divider */
    .section-divider {
      margin: 20px 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,136,0,0.2), transparent);
    }

    /* mobile */
    @media (max-width: 768px) {
      header {
        padding: 14px 18px;
        flex-wrap: wrap;
      }
      .brand-text {
        font-size: 1.1rem;
      }
      .container {
        padding: 16px;
      }
      .grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      .full {
        grid-column: span 1;
      }
      .survey-progress {
        flex-direction: column;
        gap: 12px;
        align-items: flex-start;
      }
      h3 {
        font-size: 1.3rem;
      }
      .card {
        padding: 20px;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="brand">
    <div class="brand-icon">
      <i class="fas fa-clipboard-check"></i>
    </div>
    <div class="brand-text">SurveyPro · field assessment</div>
  </div>
  <div class="top-actions">
    <a class="btn-back" href="/dashboard"><i class="fas fa-arrow-left"></i> Back</a>
    <a class="btn-logout" href="/logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
  </div>
</header>

<div class="container">
  <!-- progress indicator -->
  <div class="survey-progress">
    <div class="progress-text">
      <i class="fas fa-pen-to-square"></i>
      <span>Field questionnaire · 8 sections</span>
    </div>
    <div class="auto-save-badge">
      <i class="fas fa-cloud-arrow-up"></i>
      <span>Auto-save enabled · progress persisted</span>
    </div>
  </div>

  <form method="POST">
    <!-- Study Details Card -->
    <div class="card">
      <h3><i class="fas fa-microscope"></i> Study Details</h3>
      <div class="grid">
        <div><label><i class="fas fa-hashtag"></i> Study ID</label><input type="text" name="study_id" /></div>
        <div><label><i class="fas fa-calendar"></i> Date</label><input type="date" name="study_date" /></div>
        <div><label><i class="fas fa-school"></i> School / Anganwadi</label><input type="text" name="school_anganwadi" /></div>
        <div><label><i class="fas fa-location-dot"></i> Location</label>
          <select name="location"><option>Urban</option><option>Urban Slum</option></select>
        </div>
        <div><label><i class="fas fa-map"></i> District</label><input type="text" name="district" /></div>
        <div><label><i class="fas fa-map"></i> State</label><input type="text" name="state" /></div>
        <div class="full"><label><i class="fas fa-user-tie"></i> Investigator</label><input type="text" name="investigator_name" /></div>
      </div>
    </div>

    <!-- Section A -->
    <div class="card">
      <h3><i class="fas fa-child"></i> Section A: Participant Identification</h3>
      <div class="grid">
        <div><label>Child ID Code</label><input type="text" name="child_id_code" /></div>
        <div><label>DOB</label><input type="date" name="dob" /></div>
        <div><label>Age (years)</label><select name="age_completed"><option>3</option><option>4</option><option>5</option></select></div>
        <div><label>Sex</label><select name="sex"><option>Male</option><option>Female</option><option>Other</option></select></div>
        <div><label>Birth Order</label><select name="birth_order"><option>1</option><option>2</option><option>3</option><option>≥4</option></select></div>
        <div><label># siblings</label><input type="number" name="siblings_count" /></div>
      </div>
    </div>

    <!-- Section B -->
    <div class="card">
      <h3><i class="fas fa-users"></i> Section B: Socio-Demographic & Economic</h3>
      <h4><i class="fas fa-family"></i> B1. Family Characteristics</h4>
      <div class="grid">
        <div class="full"><label>Family type</label><select name="family_type"><option>Nuclear</option><option>Joint</option><option>Extended</option></select></div>
        <div><label>Total members</label><input type="number" name="family_members_total" /></div>
        <div><label>Religion</label><select name="religion"><option>Hindu</option><option>Muslim</option><option>Christian</option><option>Other</option></select></div>
        <div><label>Caste</label><select name="caste_category"><option>SC</option><option>ST</option><option>OBC</option><option>General</option></select></div>
      </div>

      <div class="section-divider"></div>
      <h4><i class="fas fa-chart-line"></i> B2. Modified Kuppuswamy Scale</h4>
      
      <label><i class="fas fa-graduation-cap"></i> Education (Head)</label>
      <select name="edu_head_family">
        <option>Profession / Honours (Score 7)</option><option>Graduate (Score 6)</option><option>Intermediate (Score 5)</option>
        <option>High School (Score 4)</option><option>Middle School (Score 3)</option><option>Primary (Score 2)</option><option>Illiterate (Score 1)</option>
      </select>
      <label>Score</label><input type="number" name="edu_score" />

      <label><i class="fas fa-briefcase"></i> Occupation (Head)</label>
      <select name="occupation_head_family">
        <option>Legislators/managers (Score 10)</option><option>Profession (Score 9)</option><option>Technicians (Score 8)</option>
        <option>Clerks (Score 7)</option><option>Skilled workers (Score 6)</option><option>Agricultural (Score 5)</option>
        <option>Craft workers (Score 4)</option><option>Machine operators (Score 3)</option><option>Elementary (Score 2)</option><option>Unemployed (Score 1)</option>
      </select>
      <label>Score</label><input type="number" name="occupation_score" />

      <label><i class="fas fa-indian-rupee-sign"></i> Monthly Income</label>
      <select name="monthly_income">
        <option>₹1,59,586+ (Score 12)</option><option>₹79,756-1,59,585 (Score 10)</option><option>₹59,795-79,755 (Score 6)</option>
        <option>₹39,830-59,794 (Score 4)</option><option>₹23,870-39,829 (Score 3)</option><option>₹7,989-23,869 (Score 2)</option><option>≤₹7,988 (Score 1)</option>
      </select>
      <label>Score</label><input type="number" name="income_score" />

      <h4>Total & SES Class</h4>
      <div class="grid">
        <div><label>Total score</label><input type="number" name="kuppuswamy_total_score" /></div>
        <div><label>SES class</label><select name="ses_class"><option>Upper (26–29)</option><option>Upper Middle (16–25)</option><option>Lower Middle (11–15)</option><option>Upper Lower (5–10)</option><option>Lower (<5)</option></select></div>
      </div>
    </div>

    <!-- Section C -->
    <div class="card">
      <h3><i class="fas fa-heart-pulse"></i> Section C: Health & Nutrition</h3>
      <div class="grid">
        <div class="full"><label>Low birth weight (<2.5kg)?</label><select name="low_birth_weight"><option>Yes</option><option>No</option><option>Don't know</option></select></div>
        <div><label>Chronic illness?</label><select name="chronic_illness"><option>Yes</option><option>No</option></select></div>
        <div><label>If yes, specify</label><input type="text" name="chronic_illness_specify" /></div>
        <div><label>Worm infestation (6m)?</label><select name="worm_infestation"><option>Yes</option><option>No</option><option>Don't know</option></select></div>
        <div><label>Deworming (6m)?</label><select name="deworming_tablet"><option>Yes</option><option>No</option><option>Don't know</option></select></div>
        <div class="full"><label>Iron supplementation?</label><select name="iron_supplementation"><option>Yes</option><option>No</option><option>Don't know</option></select></div>
      </div>
    </div>

    <!-- Section D -->
    <div class="card">
      <h3><i class="fas fa-utensils"></i> Section D: Dietary Practices</h3>
      <div class="grid">
        <div><label>Diet type</label><select name="diet_type"><option>Vegetarian</option><option>Mixed</option></select></div>
        <div><label>Iron-rich food</label><select name="iron_rich_food_frequency"><option>Daily</option><option>3–4/week</option><option>1–2/week</option><option>Rarely</option></select></div>
      </div>
    </div>

    <!-- Section H (Haemoglobin) -->
    <div class="card">
      <h3><i class="fas fa-droplet"></i> Section H: Haemoglobin Results</h3>
      <div class="grid">
        <div><label>Date & time</label><input type="text" name="hb_measurement_datetime" /></div>
        <div><label>Device sequence</label><select name="device_sequence"><option>Masimo Rad-67</option><option>Minimally invasive POC</option><option>ABX Micros ES 60</option></select></div>
      </div>

      <div class="measurement-group">
        <h4>Masimo Rad-67 (Non-invasive)</h4>
        <div class="grid">
          <div><label>Reading 1</label><input type="number" step="0.01" name="masimo_reading_1" /></div>
          <div><label>Reading 2</label><input type="number" step="0.01" name="masimo_reading_2" /></div>
          <div><label>Reading 3</label><input type="number" step="0.01" name="masimo_reading_3" /></div>
          <div><label>Average SpHb</label><input type="number" step="0.01" name="masimo_avg_sphb" /></div>
        </div>
      </div>

      <div class="measurement-group">
        <h4>Minimally Invasive</h4>
        <div class="grid">
          <div class="full"><label>Capillary Hb (g/dL)</label><input type="number" step="0.01" name="capillary_hb_value" /></div>
          <div><label>Attempts</label><select name="capillary_attempts"><option>1</option><option>2</option><option>≥3</option></select></div>
        </div>
      </div>

      <div class="measurement-group">
        <h4>Reference (Laboratory)</h4>
        <label>Venous Hb (g/dL)</label><input type="number" step="0.01" name="venous_hb_value" />
      </div>

      <h4>Child Comfort</h4>
      <select name="child_response_score">
        <option>0 – Calm and cooperative</option><option>1 – Mild resistance</option><option>2 – Moderate distress</option><option>3 – Severe distress</option>
      </select>
    </div>

    <!-- Section G: Acceptability -->
    <div class="card">
      <h3><i class="fas fa-face-smile"></i> Section G: Parental Acceptability</h3>
      <div class="grid">
        <div class="full"><label>Comfortable with testing?</label><select name="comfortable_testing_process"><option>Yes</option><option>No</option></select></div>
        <div><label>Preferred method</label><select name="preferred_method"><option>Non-invasive</option><option>Fingerprick</option><option>Blood test</option><option>No preference</option></select></div>
        <div><label>Repeat screening?</label><select name="repeat_screening"><option>Yes</option><option>No</option></select></div>
      </div>
    </div>

    <!-- Section H: Referral -->
    <div class="card">
      <h3><i class="fas fa-truck-medical"></i> Section H: Referral & Action</h3>
      <div class="grid">
        <div><label>Classification</label><select name="child_classification"><option>Anaemic</option><option>Non-anaemic</option></select></div>
        <div><label>IFA dose</label><input type="text" name="ifa_dose" /></div>
        <div><label>Referral advised?</label><select name="referral_advised"><option>Yes</option><option>No</option></select></div>
        <div><label>Destination</label><select name="referral_destination"><option>PHC</option><option>Anganwadi</option><option>Private clinic</option><option>Other</option></select></div>
        <div class="full"><label>Other specify</label><input type="text" name="referral_other_specify" /></div>
        <div><label>Investigator signature</label><input type="text" name="investigator_signature" /></div>
        <div><label>Date</label><input type="date" name="referral_date" /></div>
      </div>
    </div>

    <!-- Submit -->
    <div class="card">
      <button type="submit">
        <i class="fas fa-paper-plane"></i> Submit Questionnaire
      </button>
      <div class="note">
        <i class="fas fa-barcode"></i> Responses linked to your Barcode ID · auto-saved
      </div>
    </div>
  </form>
</div>

</body>
</html>